# Сервис загрузки PDF и веб-интерфейса. Сервер vLLM с Qwen-VL запускается отдельно;
# подключение к нему — через переменные окружения (см. .env).
version: "3.9"

services:
  qwen-bbox-ocr:
    build: .
    image: qwen-bbox-ocr:latest
    container_name: qwen-bbox-ocr
    ports:
      - "8010:8000"
    env_file:
      - .env
    environment:
      - VLLM_BASE_URL=${VLLM_BASE_URL:-http://host.docker.internal:8000/v1}
    restart: unless-stopped
    # Если vLLM на том же хосте: используйте host.docker.internal (Windows/Mac) или IP хоста (Linux)
